{
    "variables": {
        "credentials.hostname": [ "dfs1-dev.openstacklocal", "dfs2-dev.openstacklocal" ],
        "--cred.hostname": [ "dfs3-dev.openstacklocal" ],
        "--hostname": [ "dfs4-dev.openstacklocal" ]
    },

    "constants" : {
        "--credentials.username" : "somejunk",
        "--credentials.hostname": [ "hoooooost" ],
        "timeout_secs" : 30,
        "local_base_dir" : "~/LOCAL_DIR",
        "remote_base_dir" : "~/REMOTE_DIR",
        "src_file" : [ "*", "sub_dir_1" ],

        "2nums" : ["1", "2"],
        "--ajmal.2nums" : [ "1" ],
        "3nums" : ["1", "2", "3"],
        "sub_dir" : "sub_dir_{2nums}",
        "filename" : "file_{3nums}.txt"
    },

    "main" : [
        "clear_local_dir",
        "create_local_dirs_and_files",
        "cleate_remote_dir",
        "upload_files",
        "list_remote_files"
    ],

    "clear_local_dir" : {
        "action" : "local",
        "commands" : [
            "rm -fr {local_base_dir}"
        ]
    },

    "create_local_dirs_and_files" : {
        "action" : "local",
        "commands" : [
            "mkdir -p {local_base_dir}/{sub_dir}",
            "touch {local_base_dir}/{sub_dir}/{filename}",
            "cd ~/MAKE_ME_FAIL"
        ]
    },

    "cleate_remote_dir" : {
        "action" : "ssh",
        "commands" : [
            "rm -fr {remote_base_dir}",
            "hostname -f && date; echo 'test &&'",
            "mkdir -p {remote_base_dir}"
        ]
    },

    "upload_files" : {
        "action" : "scp",
        "direction" : "send",
        "options" : "-o CheckHostIP=no",
        "source_dir" : "{local_base_dir}",
        "source_file" : "{src_file}",
        "target_dir" : "{remote_base_dir}"
    },

    "list_remote_files" : {
        "action" : "ssh",
        "commands" : [
            "sudo ls -al /root",
            "ls -al ~",
            "ls -al -R {remote_base_dir}"
        ]
    }
}
